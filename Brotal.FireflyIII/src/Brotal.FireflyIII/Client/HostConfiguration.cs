/*
 * Firefly III API v6.3.0
 *
 * This is the documentation of the Firefly III API. Please report any bugs or issues. You may use the \"Authorize\" button to try the API below. <br><br> Please keep in mind that the demo site does **not** accept requests from `curl`, `colly`, `wget`, etc. You must use a browser or a tool like Insomnia to make your test requests. <br><br> To learn more about the idiosyncrasies of this API, please read about the API in the [Firefly III API documentation](https://docs.firefly-iii.org/references/firefly-iii/api/). <br><br> <small>This file was last generated on 2025-08-16 @ 20:21:49 (Europe/Amsterdam)</small> 
 *
 * The version of the OpenAPI document: v6.3.0
 * Contact: james@firefly-iii.org
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.Net.Http;
using Microsoft.Extensions.DependencyInjection;
using Brotal.FireflyIII.Api;
using Brotal.FireflyIII.Model;

namespace Brotal.FireflyIII.Client
{
    /// <summary>
    /// Provides hosting configuration for Brotal.FireflyIII
    /// </summary>
    public class HostConfiguration
    {
        private readonly IServiceCollection _services;
        private readonly JsonSerializerOptions _jsonOptions = new JsonSerializerOptions();

        internal bool HttpClientsAdded { get; private set; }

        /// <summary>
        /// Instantiates the class 
        /// </summary>
        /// <param name="services"></param>
        public HostConfiguration(IServiceCollection services)
        {
            _services = services;
            _jsonOptions.Converters.Add(new JsonStringEnumConverter());
            _jsonOptions.Converters.Add(new DateTimeJsonConverter());
            _jsonOptions.Converters.Add(new DateTimeNullableJsonConverter());
            _jsonOptions.Converters.Add(new DateOnlyJsonConverter());
            _jsonOptions.Converters.Add(new DateOnlyNullableJsonConverter());
            _jsonOptions.Converters.Add(new AccountArrayJsonConverter());
            _jsonOptions.Converters.Add(new AccountPropertiesJsonConverter());
            _jsonOptions.Converters.Add(new AccountReadJsonConverter());
            _jsonOptions.Converters.Add(new AccountRolePropertyJsonConverter());
            _jsonOptions.Converters.Add(new AccountRolePropertyNullableJsonConverter());
            _jsonOptions.Converters.Add(new AccountSearchFieldFilterJsonConverter());
            _jsonOptions.Converters.Add(new AccountSearchFieldFilterNullableJsonConverter());
            _jsonOptions.Converters.Add(new AccountSingleJsonConverter());
            _jsonOptions.Converters.Add(new AccountStoreJsonConverter());
            _jsonOptions.Converters.Add(new AccountTypeFilterJsonConverter());
            _jsonOptions.Converters.Add(new AccountTypeFilterNullableJsonConverter());
            _jsonOptions.Converters.Add(new AccountTypePropertyJsonConverter());
            _jsonOptions.Converters.Add(new AccountTypePropertyNullableJsonConverter());
            _jsonOptions.Converters.Add(new AccountUpdateJsonConverter());
            _jsonOptions.Converters.Add(new ArrayEntryWithCurrencyAndSumJsonConverter());
            _jsonOptions.Converters.Add(new AttachableTypeJsonConverter());
            _jsonOptions.Converters.Add(new AttachableTypeNullableJsonConverter());
            _jsonOptions.Converters.Add(new AttachmentArrayJsonConverter());
            _jsonOptions.Converters.Add(new AttachmentPropertiesJsonConverter());
            _jsonOptions.Converters.Add(new AttachmentReadJsonConverter());
            _jsonOptions.Converters.Add(new AttachmentSingleJsonConverter());
            _jsonOptions.Converters.Add(new AttachmentStoreJsonConverter());
            _jsonOptions.Converters.Add(new AttachmentUpdateJsonConverter());
            _jsonOptions.Converters.Add(new AutoBudgetPeriodJsonConverter());
            _jsonOptions.Converters.Add(new AutoBudgetPeriodNullableJsonConverter());
            _jsonOptions.Converters.Add(new AutoBudgetTypeJsonConverter());
            _jsonOptions.Converters.Add(new AutoBudgetTypeNullableJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteAccountJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteBillJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteBudgetJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteCategoryJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteCurrencyJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteCurrencyCodeJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteObjectGroupJsonConverter());
            _jsonOptions.Converters.Add(new AutocompletePiggyJsonConverter());
            _jsonOptions.Converters.Add(new AutocompletePiggyBalanceJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteRecurrenceJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteRuleJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteRuleGroupJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteTagJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteTransactionJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteTransactionIDJsonConverter());
            _jsonOptions.Converters.Add(new AutocompleteTransactionTypeJsonConverter());
            _jsonOptions.Converters.Add(new AvailableBudgetArrayJsonConverter());
            _jsonOptions.Converters.Add(new AvailableBudgetPropertiesJsonConverter());
            _jsonOptions.Converters.Add(new AvailableBudgetReadJsonConverter());
            _jsonOptions.Converters.Add(new AvailableBudgetSingleJsonConverter());
            _jsonOptions.Converters.Add(new BadRequestResponseJsonConverter());
            _jsonOptions.Converters.Add(new BasicSummaryEntryJsonConverter());
            _jsonOptions.Converters.Add(new BillArrayJsonConverter());
            _jsonOptions.Converters.Add(new BillPropertiesJsonConverter());
            _jsonOptions.Converters.Add(new BillPropertiesPaidDatesInnerJsonConverter());
            _jsonOptions.Converters.Add(new BillReadJsonConverter());
            _jsonOptions.Converters.Add(new BillRepeatFrequencyJsonConverter());
            _jsonOptions.Converters.Add(new BillRepeatFrequencyNullableJsonConverter());
            _jsonOptions.Converters.Add(new BillSingleJsonConverter());
            _jsonOptions.Converters.Add(new BillStoreJsonConverter());
            _jsonOptions.Converters.Add(new BillUpdateJsonConverter());
            _jsonOptions.Converters.Add(new BudgetArrayJsonConverter());
            _jsonOptions.Converters.Add(new BudgetLimitArrayJsonConverter());
            _jsonOptions.Converters.Add(new BudgetLimitPropertiesJsonConverter());
            _jsonOptions.Converters.Add(new BudgetLimitReadJsonConverter());
            _jsonOptions.Converters.Add(new BudgetLimitSingleJsonConverter());
            _jsonOptions.Converters.Add(new BudgetLimitStoreJsonConverter());
            _jsonOptions.Converters.Add(new BudgetLimitUpdateJsonConverter());
            _jsonOptions.Converters.Add(new BudgetPropertiesJsonConverter());
            _jsonOptions.Converters.Add(new BudgetReadJsonConverter());
            _jsonOptions.Converters.Add(new BudgetSingleJsonConverter());
            _jsonOptions.Converters.Add(new BudgetStoreJsonConverter());
            _jsonOptions.Converters.Add(new BudgetUpdateJsonConverter());
            _jsonOptions.Converters.Add(new CategoryArrayJsonConverter());
            _jsonOptions.Converters.Add(new CategoryPropertiesJsonConverter());
            _jsonOptions.Converters.Add(new CategoryReadJsonConverter());
            _jsonOptions.Converters.Add(new CategorySingleJsonConverter());
            _jsonOptions.Converters.Add(new CategoryStoreJsonConverter());
            _jsonOptions.Converters.Add(new CategoryUpdateJsonConverter());
            _jsonOptions.Converters.Add(new ChartDataPointJsonConverter());
            _jsonOptions.Converters.Add(new ChartDataSetJsonConverter());
            _jsonOptions.Converters.Add(new ChartDatasetPeriodPropertyJsonConverter());
            _jsonOptions.Converters.Add(new ChartDatasetPeriodPropertyNullableJsonConverter());
            _jsonOptions.Converters.Add(new ConfigValueFilterJsonConverter());
            _jsonOptions.Converters.Add(new ConfigValueFilterNullableJsonConverter());
            _jsonOptions.Converters.Add(new ConfigValueUpdateFilterJsonConverter());
            _jsonOptions.Converters.Add(new ConfigValueUpdateFilterNullableJsonConverter());
            _jsonOptions.Converters.Add(new ConfigurationSingleJsonConverter());
            _jsonOptions.Converters.Add(new ConfigurationUpdateJsonConverter());
            _jsonOptions.Converters.Add(new CreditCardTypePropertyJsonConverter());
            _jsonOptions.Converters.Add(new CreditCardTypePropertyNullableJsonConverter());
            _jsonOptions.Converters.Add(new CronResultJsonConverter());
            _jsonOptions.Converters.Add(new CronResultRowJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyArrayJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyExchangePropertiesJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyExchangeRateArrayJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyExchangeRateReadJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyExchangeRateSingleJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyExchangeRateStoreJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyExchangeRateStoreByDateJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyExchangeRateUpdateJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyExchangeRateUpdateNoDateJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyPropertiesJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyReadJsonConverter());
            _jsonOptions.Converters.Add(new CurrencySingleJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyStoreJsonConverter());
            _jsonOptions.Converters.Add(new CurrencyUpdateJsonConverter());
            _jsonOptions.Converters.Add(new DataDestroyObjectJsonConverter());
            _jsonOptions.Converters.Add(new DataDestroyObjectNullableJsonConverter());
            _jsonOptions.Converters.Add(new ExportFileFilterJsonConverter());
            _jsonOptions.Converters.Add(new ExportFileFilterNullableJsonConverter());
            _jsonOptions.Converters.Add(new InsightGroupEntryJsonConverter());
            _jsonOptions.Converters.Add(new InsightTotalEntryJsonConverter());
            _jsonOptions.Converters.Add(new InsightTransferEntryJsonConverter());
            _jsonOptions.Converters.Add(new InterestPeriodPropertyJsonConverter());
            _jsonOptions.Converters.Add(new InterestPeriodPropertyNullableJsonConverter());
            _jsonOptions.Converters.Add(new InternalExceptionResponseJsonConverter());
            _jsonOptions.Converters.Add(new LiabilityDirectionPropertyJsonConverter());
            _jsonOptions.Converters.Add(new LiabilityDirectionPropertyNullableJsonConverter());
            _jsonOptions.Converters.Add(new LiabilityTypePropertyJsonConverter());
            _jsonOptions.Converters.Add(new LiabilityTypePropertyNullableJsonConverter());
            _jsonOptions.Converters.Add(new LinkTypeJsonConverter());
            _jsonOptions.Converters.Add(new LinkTypeArrayJsonConverter());
            _jsonOptions.Converters.Add(new LinkTypeReadJsonConverter());
            _jsonOptions.Converters.Add(new LinkTypeSingleJsonConverter());
            _jsonOptions.Converters.Add(new LinkTypeUpdateJsonConverter());
            _jsonOptions.Converters.Add(new MetaJsonConverter());
            _jsonOptions.Converters.Add(new MetaPaginationJsonConverter());
            _jsonOptions.Converters.Add(new ModelConfigurationJsonConverter());
            _jsonOptions.Converters.Add(new NotFoundResponseJsonConverter());
            _jsonOptions.Converters.Add(new ObjectGroupJsonConverter());
            _jsonOptions.Converters.Add(new ObjectGroupArrayJsonConverter());
            _jsonOptions.Converters.Add(new ObjectGroupReadJsonConverter());
            _jsonOptions.Converters.Add(new ObjectGroupSingleJsonConverter());
            _jsonOptions.Converters.Add(new ObjectGroupUpdateJsonConverter());
            _jsonOptions.Converters.Add(new ObjectLinkJsonConverter());
            _jsonOptions.Converters.Add(new ObjectLink0JsonConverter());
            _jsonOptions.Converters.Add(new PageLinkJsonConverter());
            _jsonOptions.Converters.Add(new PiggyBankAccountReadJsonConverter());
            _jsonOptions.Converters.Add(new PiggyBankAccountStoreJsonConverter());
            _jsonOptions.Converters.Add(new PiggyBankAccountUpdateJsonConverter());
            _jsonOptions.Converters.Add(new PiggyBankArrayJsonConverter());
            _jsonOptions.Converters.Add(new PiggyBankEventArrayJsonConverter());
            _jsonOptions.Converters.Add(new PiggyBankEventPropertiesJsonConverter());
            _jsonOptions.Converters.Add(new PiggyBankEventReadJsonConverter());
            _jsonOptions.Converters.Add(new PiggyBankPropertiesJsonConverter());
            _jsonOptions.Converters.Add(new PiggyBankReadJsonConverter());
            _jsonOptions.Converters.Add(new PiggyBankSingleJsonConverter());
            _jsonOptions.Converters.Add(new PiggyBankStoreJsonConverter());
            _jsonOptions.Converters.Add(new PiggyBankUpdateJsonConverter());
            _jsonOptions.Converters.Add(new PolymorphicPropertyJsonConverter());
            _jsonOptions.Converters.Add(new PreferenceJsonConverter());
            _jsonOptions.Converters.Add(new PreferenceArrayJsonConverter());
            _jsonOptions.Converters.Add(new PreferenceReadJsonConverter());
            _jsonOptions.Converters.Add(new PreferenceSingleJsonConverter());
            _jsonOptions.Converters.Add(new PreferenceUpdateJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceArrayJsonConverter());
            _jsonOptions.Converters.Add(new RecurrencePropertiesJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceReadJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceRepetitionJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceRepetitionStoreJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceRepetitionTypeJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceRepetitionTypeNullableJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceRepetitionUpdateJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceSingleJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceStoreJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceTransactionJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceTransactionStoreJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceTransactionTypeJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceTransactionTypeNullableJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceTransactionUpdateJsonConverter());
            _jsonOptions.Converters.Add(new RecurrenceUpdateJsonConverter());
            _jsonOptions.Converters.Add(new RuleJsonConverter());
            _jsonOptions.Converters.Add(new RuleActionJsonConverter());
            _jsonOptions.Converters.Add(new RuleActionKeywordJsonConverter());
            _jsonOptions.Converters.Add(new RuleActionKeywordNullableJsonConverter());
            _jsonOptions.Converters.Add(new RuleActionStoreJsonConverter());
            _jsonOptions.Converters.Add(new RuleActionUpdateJsonConverter());
            _jsonOptions.Converters.Add(new RuleArrayJsonConverter());
            _jsonOptions.Converters.Add(new RuleGroupJsonConverter());
            _jsonOptions.Converters.Add(new RuleGroupArrayJsonConverter());
            _jsonOptions.Converters.Add(new RuleGroupReadJsonConverter());
            _jsonOptions.Converters.Add(new RuleGroupSingleJsonConverter());
            _jsonOptions.Converters.Add(new RuleGroupStoreJsonConverter());
            _jsonOptions.Converters.Add(new RuleGroupUpdateJsonConverter());
            _jsonOptions.Converters.Add(new RuleReadJsonConverter());
            _jsonOptions.Converters.Add(new RuleSingleJsonConverter());
            _jsonOptions.Converters.Add(new RuleStoreJsonConverter());
            _jsonOptions.Converters.Add(new RuleTriggerJsonConverter());
            _jsonOptions.Converters.Add(new RuleTriggerKeywordJsonConverter());
            _jsonOptions.Converters.Add(new RuleTriggerKeywordNullableJsonConverter());
            _jsonOptions.Converters.Add(new RuleTriggerStoreJsonConverter());
            _jsonOptions.Converters.Add(new RuleTriggerTypeJsonConverter());
            _jsonOptions.Converters.Add(new RuleTriggerTypeNullableJsonConverter());
            _jsonOptions.Converters.Add(new RuleTriggerUpdateJsonConverter());
            _jsonOptions.Converters.Add(new RuleUpdateJsonConverter());
            _jsonOptions.Converters.Add(new ShortAccountTypePropertyJsonConverter());
            _jsonOptions.Converters.Add(new ShortAccountTypePropertyNullableJsonConverter());
            _jsonOptions.Converters.Add(new SystemInfoJsonConverter());
            _jsonOptions.Converters.Add(new SystemInfoDataJsonConverter());
            _jsonOptions.Converters.Add(new TagArrayJsonConverter());
            _jsonOptions.Converters.Add(new TagModelJsonConverter());
            _jsonOptions.Converters.Add(new TagModelStoreJsonConverter());
            _jsonOptions.Converters.Add(new TagModelUpdateJsonConverter());
            _jsonOptions.Converters.Add(new TagReadJsonConverter());
            _jsonOptions.Converters.Add(new TagSingleJsonConverter());
            _jsonOptions.Converters.Add(new TransactionJsonConverter());
            _jsonOptions.Converters.Add(new TransactionArrayJsonConverter());
            _jsonOptions.Converters.Add(new TransactionLinkJsonConverter());
            _jsonOptions.Converters.Add(new TransactionLinkArrayJsonConverter());
            _jsonOptions.Converters.Add(new TransactionLinkReadJsonConverter());
            _jsonOptions.Converters.Add(new TransactionLinkSingleJsonConverter());
            _jsonOptions.Converters.Add(new TransactionLinkStoreJsonConverter());
            _jsonOptions.Converters.Add(new TransactionLinkUpdateJsonConverter());
            _jsonOptions.Converters.Add(new TransactionReadJsonConverter());
            _jsonOptions.Converters.Add(new TransactionSingleJsonConverter());
            _jsonOptions.Converters.Add(new TransactionSplitJsonConverter());
            _jsonOptions.Converters.Add(new TransactionSplitStoreJsonConverter());
            _jsonOptions.Converters.Add(new TransactionSplitUpdateJsonConverter());
            _jsonOptions.Converters.Add(new TransactionStoreJsonConverter());
            _jsonOptions.Converters.Add(new TransactionTypeFilterJsonConverter());
            _jsonOptions.Converters.Add(new TransactionTypeFilterNullableJsonConverter());
            _jsonOptions.Converters.Add(new TransactionTypePropertyJsonConverter());
            _jsonOptions.Converters.Add(new TransactionTypePropertyNullableJsonConverter());
            _jsonOptions.Converters.Add(new TransactionUpdateJsonConverter());
            _jsonOptions.Converters.Add(new UnauthenticatedResponseJsonConverter());
            _jsonOptions.Converters.Add(new UserJsonConverter());
            _jsonOptions.Converters.Add(new UserArrayJsonConverter());
            _jsonOptions.Converters.Add(new UserBlockedCodePropertyJsonConverter());
            _jsonOptions.Converters.Add(new UserBlockedCodePropertyNullableJsonConverter());
            _jsonOptions.Converters.Add(new UserGroupArrayJsonConverter());
            _jsonOptions.Converters.Add(new UserGroupReadJsonConverter());
            _jsonOptions.Converters.Add(new UserGroupReadAttributesJsonConverter());
            _jsonOptions.Converters.Add(new UserGroupReadMembersJsonConverter());
            _jsonOptions.Converters.Add(new UserGroupReadRoleJsonConverter());
            _jsonOptions.Converters.Add(new UserGroupReadRoleNullableJsonConverter());
            _jsonOptions.Converters.Add(new UserGroupSingleJsonConverter());
            _jsonOptions.Converters.Add(new UserGroupUpdateJsonConverter());
            _jsonOptions.Converters.Add(new UserReadJsonConverter());
            _jsonOptions.Converters.Add(new UserRolePropertyJsonConverter());
            _jsonOptions.Converters.Add(new UserRolePropertyNullableJsonConverter());
            _jsonOptions.Converters.Add(new UserSingleJsonConverter());
            _jsonOptions.Converters.Add(new ValidationErrorResponseJsonConverter());
            _jsonOptions.Converters.Add(new ValidationErrorResponseErrorsJsonConverter());
            _jsonOptions.Converters.Add(new WebhookJsonConverter());
            _jsonOptions.Converters.Add(new WebhookArrayJsonConverter());
            _jsonOptions.Converters.Add(new WebhookAttemptJsonConverter());
            _jsonOptions.Converters.Add(new WebhookAttemptArrayJsonConverter());
            _jsonOptions.Converters.Add(new WebhookAttemptReadJsonConverter());
            _jsonOptions.Converters.Add(new WebhookAttemptSingleJsonConverter());
            _jsonOptions.Converters.Add(new WebhookDeliveryJsonConverter());
            _jsonOptions.Converters.Add(new WebhookDeliveryNullableJsonConverter());
            _jsonOptions.Converters.Add(new WebhookMessageJsonConverter());
            _jsonOptions.Converters.Add(new WebhookMessageArrayJsonConverter());
            _jsonOptions.Converters.Add(new WebhookMessageReadJsonConverter());
            _jsonOptions.Converters.Add(new WebhookMessageSingleJsonConverter());
            _jsonOptions.Converters.Add(new WebhookReadJsonConverter());
            _jsonOptions.Converters.Add(new WebhookResponseJsonConverter());
            _jsonOptions.Converters.Add(new WebhookResponseNullableJsonConverter());
            _jsonOptions.Converters.Add(new WebhookSingleJsonConverter());
            _jsonOptions.Converters.Add(new WebhookStoreJsonConverter());
            _jsonOptions.Converters.Add(new WebhookTriggerJsonConverter());
            _jsonOptions.Converters.Add(new WebhookTriggerNullableJsonConverter());
            _jsonOptions.Converters.Add(new WebhookUpdateJsonConverter());
            JsonSerializerOptionsProvider jsonSerializerOptionsProvider = new(_jsonOptions);
            _services.AddSingleton(jsonSerializerOptionsProvider);
            _services.AddSingleton<IApiFactory, ApiFactory>();
            _services.AddSingleton<AboutApiEvents>();
            _services.AddSingleton<AccountsApiEvents>();
            _services.AddSingleton<AttachmentsApiEvents>();
            _services.AddSingleton<AutocompleteApiEvents>();
            _services.AddSingleton<AvailableBudgetsApiEvents>();
            _services.AddSingleton<BillsApiEvents>();
            _services.AddSingleton<BudgetsApiEvents>();
            _services.AddSingleton<CategoriesApiEvents>();
            _services.AddSingleton<ChartsApiEvents>();
            _services.AddSingleton<ConfigurationApiEvents>();
            _services.AddSingleton<CurrenciesApiEvents>();
            _services.AddSingleton<CurrencyExchangeRatesApiEvents>();
            _services.AddSingleton<DataApiEvents>();
            _services.AddSingleton<InsightApiEvents>();
            _services.AddSingleton<LinksApiEvents>();
            _services.AddSingleton<ObjectGroupsApiEvents>();
            _services.AddSingleton<PiggyBanksApiEvents>();
            _services.AddSingleton<PreferencesApiEvents>();
            _services.AddSingleton<RecurrencesApiEvents>();
            _services.AddSingleton<RuleGroupsApiEvents>();
            _services.AddSingleton<RulesApiEvents>();
            _services.AddSingleton<SearchApiEvents>();
            _services.AddSingleton<SummaryApiEvents>();
            _services.AddSingleton<TagsApiEvents>();
            _services.AddSingleton<TransactionsApiEvents>();
            _services.AddSingleton<UserGroupsApiEvents>();
            _services.AddSingleton<UsersApiEvents>();
            _services.AddSingleton<WebhooksApiEvents>();
        }

        /// <summary>
        /// Configures the HttpClients.
        /// </summary>
        /// <param name="client"></param>
        /// <param name="builder"></param>
        /// <returns></returns>
        public HostConfiguration AddApiHttpClients
        (
            Action<HttpClient>? client = null, Action<IHttpClientBuilder>? builder = null)
        {
            if (client == null)
                client = c => c.BaseAddress = new Uri(ClientUtils.BASE_ADDRESS);

            List<IHttpClientBuilder> builders = new List<IHttpClientBuilder>();

            builders.Add(_services.AddHttpClient<IAboutApi, AboutApi>(client));
            builders.Add(_services.AddHttpClient<IAccountsApi, AccountsApi>(client));
            builders.Add(_services.AddHttpClient<IAttachmentsApi, AttachmentsApi>(client));
            builders.Add(_services.AddHttpClient<IAutocompleteApi, AutocompleteApi>(client));
            builders.Add(_services.AddHttpClient<IAvailableBudgetsApi, AvailableBudgetsApi>(client));
            builders.Add(_services.AddHttpClient<IBillsApi, BillsApi>(client));
            builders.Add(_services.AddHttpClient<IBudgetsApi, BudgetsApi>(client));
            builders.Add(_services.AddHttpClient<ICategoriesApi, CategoriesApi>(client));
            builders.Add(_services.AddHttpClient<IChartsApi, ChartsApi>(client));
            builders.Add(_services.AddHttpClient<IConfigurationApi, ConfigurationApi>(client));
            builders.Add(_services.AddHttpClient<ICurrenciesApi, CurrenciesApi>(client));
            builders.Add(_services.AddHttpClient<ICurrencyExchangeRatesApi, CurrencyExchangeRatesApi>(client));
            builders.Add(_services.AddHttpClient<IDataApi, DataApi>(client));
            builders.Add(_services.AddHttpClient<IInsightApi, InsightApi>(client));
            builders.Add(_services.AddHttpClient<ILinksApi, LinksApi>(client));
            builders.Add(_services.AddHttpClient<IObjectGroupsApi, ObjectGroupsApi>(client));
            builders.Add(_services.AddHttpClient<IPiggyBanksApi, PiggyBanksApi>(client));
            builders.Add(_services.AddHttpClient<IPreferencesApi, PreferencesApi>(client));
            builders.Add(_services.AddHttpClient<IRecurrencesApi, RecurrencesApi>(client));
            builders.Add(_services.AddHttpClient<IRuleGroupsApi, RuleGroupsApi>(client));
            builders.Add(_services.AddHttpClient<IRulesApi, RulesApi>(client));
            builders.Add(_services.AddHttpClient<ISearchApi, SearchApi>(client));
            builders.Add(_services.AddHttpClient<ISummaryApi, SummaryApi>(client));
            builders.Add(_services.AddHttpClient<ITagsApi, TagsApi>(client));
            builders.Add(_services.AddHttpClient<ITransactionsApi, TransactionsApi>(client));
            builders.Add(_services.AddHttpClient<IUserGroupsApi, UserGroupsApi>(client));
            builders.Add(_services.AddHttpClient<IUsersApi, UsersApi>(client));
            builders.Add(_services.AddHttpClient<IWebhooksApi, WebhooksApi>(client));
            
            if (builder != null)
                foreach (IHttpClientBuilder instance in builders)
                    builder(instance);

            HttpClientsAdded = true;

            return this;
        }

        /// <summary>
        /// Configures the JsonSerializerSettings
        /// </summary>
        /// <param name="options"></param>
        /// <returns></returns>
        public HostConfiguration ConfigureJsonOptions(Action<JsonSerializerOptions> options)
        {
            options(_jsonOptions);

            return this;
        }

        /// <summary>
        /// Adds tokens to your IServiceCollection
        /// </summary>
        /// <typeparam name="TTokenBase"></typeparam>
        /// <param name="token"></param>
        /// <returns></returns>
        public HostConfiguration AddTokens<TTokenBase>(TTokenBase token) where TTokenBase : TokenBase
        {
            return AddTokens(new TTokenBase[]{ token });
        }

        /// <summary>
        /// Adds tokens to your IServiceCollection
        /// </summary>
        /// <typeparam name="TTokenBase"></typeparam>
        /// <param name="tokens"></param>
        /// <returns></returns>
        public HostConfiguration AddTokens<TTokenBase>(IEnumerable<TTokenBase> tokens) where TTokenBase : TokenBase
        {
            TokenContainer<TTokenBase> container = new TokenContainer<TTokenBase>(tokens);
            _services.AddSingleton(services => container);

            return this;
        }

        /// <summary>
        /// Adds a token provider to your IServiceCollection
        /// </summary>
        /// <typeparam name="TTokenProvider"></typeparam>
        /// <typeparam name="TTokenBase"></typeparam>
        /// <returns></returns>
        public HostConfiguration UseProvider<TTokenProvider, TTokenBase>() 
            where TTokenProvider : TokenProvider<TTokenBase>
            where TTokenBase : TokenBase
        {
            _services.AddSingleton<TTokenProvider>();
            _services.AddSingleton<TokenProvider<TTokenBase>>(services => services.GetRequiredService<TTokenProvider>());

            return this;
        }
    }
}
